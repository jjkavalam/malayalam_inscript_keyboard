<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Malayalam InScript</title>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <style>
        body {
            font-family: sans-serif;
        }
        .row_cell {
            cursor: pointer;
            display: inline-block;
            width: 40px;
            height: 24px;
            border: 1px solid gray;
            margin: 2px;
            text-align: center;
            border-radius: 4px;
        }
    </style>
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" width="695.19" height="284.15"
     enable-background="new 0 0 838.332 516.951" overflow="visible" version="1.1" viewBox="0 0 838.332 516.951"
     xml:space="preserve">

    <path d="m556.74 326.19c-6.403-2.646 8.252-81.105 10.439-94.6 3.707-22.875-20.402-27.36-24.219-4.038-2.17 13.249-13.407 91.546-19.884 92.724"
          fill="#ccffff" id="p1"/>
    <path d="m584 348.68c-6.352-6.543 36.33-73.709 43.051-83.852 10.572-15.957-10.541-26.845-19.885-13.199-5.885 8.592-44.021 77.211-50.424 74.564"
          fill="#c0dbfc"/>
    <path d="m600.28 374.73c12.381-12.268 42.16-34.516 50.957-40.324 16.418-10.842 8.15-28.834-9.289-19.791-11.855 6.146-51.602 40.602-57.951 34.057"
          fill="#befc75"/>
    <path d="m480.88 357.07c-2.476-0.213-5.742-3.521-10.661-9.414-26.474-31.703-55.667-34.346-63.162-17.867 17.557 10.336 45.352 33.574 50.786 56.691"
          fill="#e9befc"/>
    <path d="m523.08 320.28c-6.477 1.178-26.692-67.763-31.054-82.86-5.917-20.478-27.515-13.882-22.155 6.934 3.078 11.954 15.788 56.024 17.843 84.938"
          fill="#ffff66"/>
    <path d="m236.5 325.8c6.404-2.645-8.252-81.105-10.439-94.6-3.708-22.874 20.403-27.359 24.219-4.037 2.169 13.249 13.406 91.545 19.883 92.723"
          fill="#ccffff"/>
    <path d="m209.24 348.29c6.351-6.543-36.331-73.707-43.051-83.852-10.573-15.957 10.541-26.844 19.885-13.199 5.886 8.594 44.021 77.211 50.424 74.564"
          fill="#c0dbfc"/>
    <path d="m192.96 374.35c-12.38-12.268-42.161-34.516-50.955-40.324-16.419-10.842-8.151-28.834 9.289-19.791 11.855 6.146 51.601 40.602 57.951 34.057"
          fill="#befc75"/>
    <path d="m312.36 356.68c2.476-0.215 5.742-3.523 10.661-9.414 26.474-31.705 55.667-34.346 63.162-17.869-17.557 10.336-45.352 33.574-50.785 56.691"
          fill="#e9befc"/>
    <path d="m270.16 319.89c6.477 1.178 26.692-67.762 31.054-82.859 5.918-20.479 27.516-13.883 22.155 6.934-3.078 11.955-15.788 56.023-17.843 84.938"
          fill="#ffff66"/>
    <path d="m459.52 385.93c4.001 17.025 13.369 32.77 24.919 43.293 12.779 11.641 27.907 5.285 41.089 9.52 9.405 3.021 17.901 6.807 28.714 3.371 16.238-5.16 38.154-46.172 42.324-61.123 2.029-7.266 45.414-39.908 56.35-47.131 16.418-10.84 8.15-28.834-9.289-19.791-11.855 6.148-51.602 40.602-57.951 34.059s36.33-73.709 43.051-83.852c10.572-15.958-10.541-26.846-19.885-13.199-5.885 8.592-44.021 77.211-50.424 74.564-6.403-2.646 8.253-81.105 10.439-94.6 3.707-22.875-20.402-27.361-24.219-4.039-2.169 13.25-13.406 91.547-19.883 92.725s-26.692-67.764-31.054-82.861c-5.918-20.477-27.516-13.882-22.155 6.934 3.877 15.059 23.037 81.072 16.934 103.57-3.519 12.971-6.746 11.518-16.583-0.264-26.474-31.703-55.667-34.346-63.162-17.869 17.557 10.337 45.352 33.576 50.785 56.693z"
          fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="bevel" stroke-width="2.2742"/>
    <path d="m203 356.25c21.224-35.646 55.968-37.51 81.838-34.816" fill="#ffffff" stroke="#000000"
          stroke-linecap="round" stroke-linejoin="bevel" stroke-width="2.2742"/>
    <path d="m335.08 386.64c-4.001 17.025-13.369 32.77-24.92 43.295-12.778 11.641-27.906 5.285-41.088 9.52-9.404 3.021-17.9 6.805-28.715 3.371-16.236-5.16-38.154-46.174-42.324-61.123-2.028-7.266-45.412-39.908-56.348-47.131-16.419-10.84-8.151-28.834 9.288-19.791 11.856 6.146 51.603 40.602 57.953 34.059 6.351-6.545-36.33-73.709-43.052-83.854-10.573-15.957 10.54-26.844 19.885-13.198 5.885 8.593 44.021 77.212 50.424 74.565 6.404-2.646-8.252-81.106-10.44-94.601-3.708-22.874 20.403-27.36 24.22-4.038 2.168 13.25 13.406 91.547 19.882 92.723 6.477 1.178 26.693-67.762 31.055-82.859 5.918-20.478 27.515-13.883 22.154 6.934-3.876 15.059-23.037 81.07-16.934 103.57 3.519 12.973 6.746 11.52 16.583-0.262 26.473-31.705 55.666-34.346 63.162-17.869-17.557 10.335-45.353 33.575-50.785 56.691z"
          fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="bevel" stroke-width="2.2742"/>
    <path d="m591.59 355.54c-21.223-35.648-55.966-37.51-81.839-34.818" fill="#ffffff" stroke="#000000"
          stroke-linecap="round" stroke-linejoin="bevel" stroke-width="2.2742"/>
    <ellipse id="kQ" cx="126.31" cy="273.58" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kA" cx="133.85" cy="317.87" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kZ" cx="140.92" cy="355.1" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kW" cx="174.38" cy="214.21" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kS" cx="173.43" cy="255.67" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kX" cx="173.91" cy="291.96" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kE" cx="235.63" cy="180.28" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kD" cx="234.69" cy="221.75" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kC" cx="235.16" cy="258.03" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kR" cx="299.72" cy="188.76" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kF" cx="307.26" cy="227.4" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kV" cx="314.33" cy="260.86" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kLeftThumb" cx="371.34" cy="330.13" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kRightThumb" cx="420.35" cy="326.36" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kI" cx="557" cy="180.28" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kK" cx="556.06" cy="221.75" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kComma" cx="556.53" cy="258.03" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kO" cx="622.97" cy="216.09" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kL" cx="622.03" cy="257.56" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kDot" cx="622.5" cy="293.84" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kP" cx="660.67" cy="276.41" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kSemiColon" cx="659.73" cy="317.87" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kForwardSlash" cx="660.2" cy="354.16" rx="7.8495" ry="8.2721"
             style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kT" cx="348.73" cy="183.11" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kG" cx="348.73" cy="223.63" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kB" cx="348.25" cy="256.15" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kY" cx="435.43" cy="183.11" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kH" cx="442.97" cy="221.75" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kN" cx="450.04" cy="255.2" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kU" cx="484.43" cy="184.05" rx="17.745" ry="19.11" style="fill:#000000"/>
    <ellipse id="kJ" cx="484.43" cy="224.57" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
    <ellipse id="kM" cx="483.96" cy="257.09" rx="7.8495" ry="8.2721" style="fill:#000000;stroke-width:.43758"/>
    <ellipse id="kLeftCurly" cx="704.02" cy="274.04" rx="13.975" ry="16.738" style="fill:#000000;stroke-width:.83054"/>
    <ellipse id="kApos" cx="703.28" cy="310.35" rx="11.006" ry="13.436" style="fill:#000000;stroke-width:.66037"/>
    <ellipse id="kRightCurly" cx="740.3" cy="271.21" rx="11.619" ry="14.853" style="fill:#000000;stroke-width:.71339"/>
    <ellipse id="kBackTick" cx="70.709" cy="254.73" rx="13.975" ry="15.34" style="fill:#000000;stroke-width:.79511"/>
</svg>
<div id="shift" style="margin: 12px; color: silver;"><b>⇧ Shift</b></div>
<div id="table"></div>
<p>
    Click on an alphabet/symbol to find out how to type it in the InScript keyboard.
</p>
<div id="tooltip"
     style="display: none; background: silver; padding: 6px; border-radius: 12px; font-size: 16px; opacity: 0.9;"></div>
<script>
    let lastId;
    const tooltip = document.getElementById("tooltip");
    const shift = document.getElementById("shift");

    function highlight(id, text, isShift) {
        unhighlight();
        const el = document.getElementById(id);
        if (!el) {
            alert("not found: " + id);
            return;
        }
        lastId = id;
        tooltip.style.display = "";
        tooltip.innerHTML = text;
        Popper.createPopper(el, tooltip, {
            placement: 'right',
        });
        el.innerHTML = `        <animate
            attributeType="XML"
            attributeName="fill"
            values="#800;#f00;#800;#800"
            dur="0.8s"
            repeatCount="indefinite"/>`;
        shift.style.color = isShift ? "black" : "silver";
    }

    function unhighlight() {
        if (!lastId) return;
        const el = document.getElementById(lastId);
        el.innerHTML = "";
        tooltip.style.display = "none";
        shift.style.color = "silver";
    }

    const alphaSwaram = [
        ["അ", "kD", true],
        ["ആ", "kE", true],
        ["ഇ", "kF", true],
        ["ഈ", "kR", true],
        ["ഉ", "kG", true],
        ["ഊ", "kT", true],
        ["എ", "kZ", true],
        ["ഏ", "kS", true],
        ["ഐ", "kW", true],
        ["ഒ", "kBackTick", true],
        ["ഓ", "kA", true],
        ["ഔ", "kQ", true],
    ];
    const alphaKa = [
        ["ക", "kK", false],
        ["ഖ", "kK", true],
        ["ഗ", "kI", false],
        ["ഘ", "kI", true],
        ["ങ", "kU", true],
    ];
    const alphaCh = [
        ["ച", "kSemiColon", false],
        ["ഛ", "kSemiColon", true],
        ["ജ", "kP", false],
        ["ഝ", "kP", true],
        ["ഞ", "kRightCurly", true],
    ];
    const alphaTa = [
        ["ട", "kApos", false],
        ["ഠ", "kApos", true],
        ["ഡ", "kLeftCurly", false],
        ["ഢ", "kLeftCurly", true],
        ["ണ", "kC", true],
    ];
    const alphaTh = [
        ["ത", "kL", false],
        ["ഥ", "kL", true],
        ["ദ", "kO", false],
        ["ധ", "kO", true],
        ["ന", "kV", false],
    ];
    const alphaPa = [
        ["പ", "kH", false],
        ["ഫ", "kH", true],
        ["ബ", "kY", false],
        ["ഭ", "kY", true],
        ["മ", "kC", false],
    ];
    const alphaYa = [
        ["യ", "kForwardSlash", false],
        ["ര", "kJ", false],
        ["ല", "kN", false],
        ["വ", "kB", false],
        ["ശ", "kM", true],
        ["ഷ", "kComma", true],
        ["സ", "kM", false],
        ["ള", "kN", true],
    ];

    const alphaSym = [
        ["ാ", "kE", false],
        ["ി", "kF", false],
        ["ീ", "kR", false],
        ["ു", "kG", false],
        ["ൂ", "kT", false],
        ["ൃ", "", false],
        ["െ", "kZ", false],
        ["േ", "kS", false],
        ["ൈ", "kW", false],
        ["ൊ", "kBackTick", false],
        ["ോ", "kA", false],
        ["ൗ", "kQ", false],
        ["ം", "kX", false],
    ];

    const rows = [
        alphaSwaram,
        alphaKa,
        alphaCh,
        alphaTa,
        alphaTh,
        alphaPa,
        alphaYa,
        alphaSym,
    ];

    function alphabetRow(row) {
        const cells = row.map(([glyph, key, isShift]) => {
            return `<div class="row_cell" onclick="highlight('${key}', '${glyph}', ${isShift})">${glyph}</div>`
        }).join("");
        return `<div class="row">${cells}</div>`;
    }

    const tbl = document.getElementById("table");
    rows.forEach(row => {
        tbl.innerHTML += alphabetRow(row);
    });

</script>
</body>
</html>
